---
import type { RecipeSchema } from '../content.config';
import { Image } from 'astro:assets';

interface Props {
	recipe: RecipeSchema;
}
const { recipe } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>(
	'/src/assets/recipe-images/*.{jpeg,jpg,png,gif}',
);
const imagePath = `/src/assets/recipe-images/${recipe.image}`;
---

<article
	class="rounded-2xl overflow-hidden border dark:border-neutral-700 border-gray-200"
>
	<a href={`/house-kitchen/recipes/${recipe.slug}/`} aria-label={recipe.name}>
		<Image class="h-44 w-full block" src={images[imagePath]()} alt="" />
	</a>
	<div class="p-3 mt-2 dark:text-stone-400 text-gray-700">
		<h3>
			<a
				href={`/house-kitchen/recipes/${recipe.slug}/`}
				class="text-xl font-semibold text-blue-500">{recipe.name}</a
			>
		</h3>
		<p class="mt-1">{recipe.description}</p>
		<div class="flex items-center gap-x-5 mt-6">
			<span class="flex items-center gap-x-1"
				><span class="text-xs">⏱</span>
				{recipe.totalTime.replace('PT', '').toLowerCase()}</span
			>
			<span>•</span>
			<span>{recipe.recipeYield}</span>
		</div>
	</div>
</article>
